(this["webpackJsonpverified-whitelabel"]=this["webpackJsonpverified-whitelabel"]||[]).push([[50],{1055:function(e,a,t){"use strict";t.r(a);var i=t(0),s=t(4),n=t(246),c=t(36),l=(t(1056),t(8)),r=t(254),o=t(430),d=t(527),j=t(10),b=t.n(j),m=t(25),g=t(15),u=t(519),x=t(895),h=t(22),O=t(3),p=t(1);a.default=Object(s.c)((e=>{var a,t,j,f,v;e.addTranslation(c),e.addTranslation(n);const N=Object(h.b)(O.b),y=r.e,w=new m.OptimizedMixPanel(b.a),[C,k]=Object(i.useState)(!1),[D,z]=Object(i.useState)(e.triggerCanRequestNow||!1),[L,_]=Object(i.useState)(!1),I=Object(l.useHistory)();return Object(p.jsx)("div",{style:e.isPreview&&e.isScrollLocked?{overflow:"hidden",height:"100vh"}:{},className:e.isPreview||e.isCustomization?"no-pointer-event":"",children:Object(p.jsxs)("div",{id:"new-verify-web",className:"flex-column",children:[Object(p.jsxs)("div",{className:"verify-web-inner",children:[Object(p.jsx)(o.CredentialMainInfoCard,{isMobile:!1,mixPanel:b.a,isOrganizationVerified:(null===(a=e.credentialDetails.organization)||void 0===a?void 0:a.isVerified)||!1,isLoggedInUserInner:e.isLoggedInUser,credential_no:e.credNo,organizationLogo:null===(t=e.credentialDetails.organization)||void 0===t?void 0:t.logoLink,organizationName:(null===(j=e.credentialDetails.organization)||void 0===j?void 0:j.name)||"",isCollection:!!e.credentialDetails.collection,...e,navigateToProfile:()=>{I.push("/".concat(e.activeLanguage?e.activeLanguage.code:"en","/profile/").concat(e.userName,"/"))},navigateToIssuerProfile:()=>{null===w||void 0===w||w.track("Visit Issuer Profile",{credential_no:e.credNo,issuer_id:e.credentialDetails.organization.id}),window.open(window.location.origin+"/".concat(e.activeLanguage?e.activeLanguage.code:"en","/issuer-profile/").concat(e.credentialDetails.organization.id,"/"),"_blank")},navigateToCollection:null==e.credentialDetails.collection?void 0:()=>{var a;I.push("/".concat(e.activeLanguage?e.activeLanguage.code:"en","/collection/").concat(null===(a=e.credentialDetails.collection)||void 0===a?void 0:a.id,"/"))},issuerEmail:(null===(f=e.credentialDetails.organization)||void 0===f?void 0:f.email)||""}),(e.credentialDetails.isExpired||e.credentialDetails.isTest)&&Object(p.jsx)(o.ExpiredBanner,{details:e.credentialDetails,...e}),e.canvasWait?Object(p.jsxs)("div",{className:"canvas-container flex-column ai-c jc-c",children:[Object(p.jsx)("p",{className:"canvas-container_message",children:Object(p.jsx)(s.b,{id:"waitCredential"})}),Object(p.jsx)(d.Loader,{type:"primary",height:100,width:100})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.MediaActionRow,{isMobile:!1,userMeta:N,...e,openHelpModal:()=>_(!0),credential_no:e.credNo,details:e.credentialDetails,isCollection:!!e.credentialDetails.collection,issuedBy:e.issued_by,credentialTitle:e.loading?e.credentialName:e.credentialDetails.detail.title,organization_id:e.credentialDetails.organization?e.credentialDetails.organization.id:"",handleLinkedinClickOpen:e.handleClickOpen,shareText:e.credentialDetails.socialSharingText,handleVerifyDialogOpen:()=>{k(!0)},skills:e.credentialDetails.skills,shareUrl:window.location.href.toString().split("?")[0],mixPanel:b.a,certUrl:e.url}),Object(p.jsx)(o.CredentialDetailBlock,{...e}),Object(p.jsxs)("div",{className:"verify-inner-details",children:[!e.loading&&Object(p.jsx)(o.CredentialDescriptionBlock,{details:e.credentialDetails,...e}),!e.loading&&Object(p.jsx)(o.CredentialSkillsBlock,{...e,navigateToSkillPage:a=>{I.push("/".concat(e.activeLanguage?e.activeLanguage.code:"en","/skill/").concat(a.id,"/"))},skills:e.credentialDetails.skills,skillsWithDescription:e.credentialDetails.skillsWithDescription}),!e.loading&&null!=e.rating&&e.type===y[e.activeLanguage.code][8]&&Object(p.jsx)(o.CredentialRatingEnrollmentBlock,{...e,rating:e.rating,ratingCount:e.ratingCount,attendeeCount:e.attendeeCount}),(!e.loading&&e.evidences&&e.evidences.length>0||e.earningCriteriaHTML)&&Object(p.jsx)(o.CredentialEarningCriteriaBlock,{earningCriteriaHtml:e.earningCriteriaHTML,...e})]})]}),!e.loading&&C?Object(p.jsx)(u.default,{verifyDialogOpen:C,handleClose:()=>{k(!1)},credential_no:e.credNo,organization_name:e.credentialDetails.organization.name,organization_logo:e.credentialDetails.organization.logoLink,organization_website:e.credentialDetails.organization.website,issued_by:e.issued_by,userFullName:e.userFullName,userName:e.userName,createDate:e.createDate,expireDate:e.expireDate,activeLanguage:e.activeLanguage,translate:e.translate,addTranslation:e.addTranslation}):null,!e.loading&&D?Object(p.jsx)(x.a,{dialogOpen:D,handleClose:()=>{z(!1)},addTranslation:e.addTranslation,issuerName:e.issued_by,credential_no:e.credNo,isLoggedInUser:e.isLoggedInUser,username:e.userName,triggerCanRequestNow:e.triggerCanRequestNow,userEmail:e.userEmail,userFullName:e.userFullName,translate:e.translate}):null,!e.loading&&L?Object(p.jsx)(o.HelpPopup,{...e,openNameChangePopup:()=>{z(!0)},show:L,onClose:()=>_(!1),isMobile:!1,credential_no:e.credNo,organization_email:e.credentialDetails.organization.email,organization_id:e.credentialDetails.organization.id,recipientGroupId:e.credentialDetails.recipientGroupId}):null]}),!e.loading&&e.credentialDetails.adContainer&&null!==(v=e.credentialDetails.adContainer.adLinks[0])&&void 0!==v&&v.imageUrl?Object(p.jsx)("div",{className:"resume-ad",onClick:()=>e.createAdLog(g.AdEventTypes.click),children:Object(p.jsx)("a",{href:e.credentialDetails.adContainer.adLinks[0].link,target:"_blank",rel:"nofollow noopener noreferrer",title:"Organization Ad",children:Object(p.jsx)("img",{alt:e.credentialDetails.organization.name+" Ad Banner",src:e.credentialDetails.adContainer.adLinks[0].imageUrl,loading:"lazy"})})}):null]})})}))},1056:function(e,a,t){},519:function(e,a,t){"use strict";t.r(a);var i=t(0),s=t(4),n=t(246),c=(t(773),t(42)),l=t(31),r=t.n(l),o=t(266),d=t(100),j=t.n(d),b=t(358),m=t.p+"static/media/close-icon.1d1a9874.svg",g=t.p+"static/media/organization.25268477.svg",u=t(26),x=t(1);a.default=e=>{e.addTranslation(n);const[a,t]=Object(i.useState)(0),[l,d]=Object(i.useState)(!0);Object(i.useEffect)((()=>{e.verifyDialogOpen?(d(!0),h()):(t(1),d(!1))}),[e.verifyDialogOpen]),Object(i.useEffect)((()=>{a&&a<4&&h()}),[a]);const h=async()=>{(await r.a.post(u.Routes.verifyCredential,{credential_no:e.credential_no,step:a})).data.success&&l&&t((e=>e+1))};return Object(x.jsxs)(o.a,{id:"verify-popup",show:e.verifyDialogOpen,centered:!0,children:[Object(x.jsxs)(o.a.Title,{className:"dialog-title flex-row jc-sb",children:[Object(x.jsx)("span",{className:"s5 medium",children:Object(x.jsx)(s.b,{id:"credVerification"})}),Object(x.jsx)("img",{alt:"Verified Close Icon",className:"close-icon",src:m,onClick:()=>{e.handleClose()}})]}),Object(x.jsxs)(o.a.Body,{children:[a<1?Object(x.jsxs)("div",{className:"flex-row verify-step ai-c",children:[Object(x.jsx)(j.a,{type:"primary",height:40,width:40,className:"verify-loader"}),Object(x.jsxs)("p",{className:"s6-5 step-title blue",children:[Object(x.jsx)(s.b,{id:"verifyCredential"}),"\u2026"]})]}):Object(x.jsxs)("div",{className:"flex-row verify-step ai-fs",children:[Object(x.jsx)("img",{alt:"Verified Check Icon",className:"checkmark",src:b.a}),Object(x.jsxs)("div",{className:"flex-column ai-fs",children:[Object(x.jsxs)("p",{className:"s6-5 step-title",children:[Object(x.jsx)(s.b,{id:"credName"})," ",Object(x.jsxs)("span",{children:[Object(x.jsx)(s.b,{id:"verified"}),"."]})]}),Object(x.jsxs)("p",{className:"s7-5",children:[Object(x.jsx)(s.b,{id:"issuedVia"})," ",e.issued_by," ",Object(x.jsx)(s.b,{id:"infoValid"})]})]})]}),a<2?Object(x.jsxs)("div",{className:"flex-row verify-step ai-c",children:[Object(x.jsx)(j.a,{type:"primary",height:40,width:40,className:"verify-loader"}),Object(x.jsxs)("p",{className:"s6-5 step-title blue",children:[Object(x.jsx)(s.b,{id:"verifyOrganization"}),"\u2026"]})]}):Object(x.jsxs)("div",{className:"flex-row verify-step ai-fs",children:[Object(x.jsx)("img",{alt:"Verified Check Icon",className:"checkmark",src:b.a}),Object(x.jsxs)("div",{className:"flex-column ai-fs",children:[Object(x.jsxs)("p",{className:"s6-5 step-title",children:[Object(x.jsx)(s.b,{id:"orgName"})," ",Object(x.jsxs)("span",{children:[Object(x.jsx)(s.b,{id:"verified"}),"."]})]}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("div",{className:"org-img flex-row jc-c ai-c",children:Object(x.jsx)("img",{alt:e.organization_name?e.organization_name+" Logo":"Verified Default Organization Logo",src:e.organization_logo?e.organization_logo:g})}),Object(x.jsxs)("div",{className:"flex-column ai-fs",children:[Object(x.jsx)("p",{className:"s7-5",children:e.organization_name.toUpperCase()}),e.organization_website?Object(x.jsx)("a",{className:"blue",style:{alignSelf:"flex-start",fontSize:"14px"},href:e.organization_website.startsWith("https")||e.organization_website.startsWith("http")?e.organization_website:"//".concat(e.organization_website),target:"_blank",rel:"nofollow noopener noreferrer",children:e.organization_website}):null]})]})]})]}),a<3?Object(x.jsxs)("div",{className:"flex-row verify-step ai-c",children:[Object(x.jsx)(j.a,{type:"primary",height:40,width:40,className:"verify-loader"}),Object(x.jsxs)("p",{className:"s6-5 step-title blue",children:[Object(x.jsx)(s.b,{id:"verifyOwner"}),"\u2026"]})]}):Object(x.jsxs)("div",{className:"flex-row verify-step ai-fs",children:[Object(x.jsx)("img",{alt:"Verified Check Icon",className:"checkmark",src:b.a}),Object(x.jsxs)("div",{className:"flex-column ai-fs",children:[Object(x.jsxs)("p",{className:"s6-5 step-title",children:[Object(x.jsx)(s.b,{id:"ownerName"})," ",Object(x.jsxs)("span",{children:[Object(x.jsx)(s.b,{id:"verified"}),"."]})]}),Object(x.jsx)("p",{className:"s7-5",children:e.userFullName}),Object(x.jsx)(c.b,{className:"flex-row",to:e.activeLanguage?"/".concat(e.activeLanguage.code,"/profile/").concat(encodeURIComponent(e.userName),"/"):"/profile/".concat(encodeURIComponent(e.userName),"/"),children:Object(x.jsx)("span",{style:{fontSize:"14px"},children:Object(x.jsx)(s.b,{id:"seeOtherCred"})})})]})]}),a<4?Object(x.jsxs)("div",{className:"flex-row verify-step ai-c",children:[Object(x.jsx)(j.a,{type:"primary",height:40,width:40,className:"verify-loader"}),Object(x.jsxs)("p",{className:"s6-5 step-title blue",children:[Object(x.jsx)(s.b,{id:"checkStatus"}),"\u2026"]})]}):Object(x.jsxs)("div",{className:"flex-row verify-step ai-fs",children:[Object(x.jsx)("img",{alt:"Verified Check Icon",className:"checkmark",src:b.a}),Object(x.jsxs)("div",{className:"flex-column ai-fs",children:[Object(x.jsx)("p",{className:"s6-5 step-title",children:Object(x.jsx)(s.b,{id:"credStatus"})}),Object(x.jsxs)("p",{className:"s7-5",children:[Object(x.jsx)(s.b,{id:"issueDate"}),":\xa0",e.createDate]}),Object(x.jsxs)("p",{className:"s7-5",children:[Object(x.jsx)(s.b,{id:"expireDate"}),":\xa0",e.expireDate?e.expireDate:Object(x.jsx)(s.b,{id:"noExpire"})]})]})]})]})]})}},773:function(e,a,t){},889:function(e,a,t){},895:function(e,a,t){"use strict";t(889);var i=t(0),s=t(60),n=t(4),c=t(26);const l=t(31);var r=t(266),o=t(38),d=t(28),j=t.n(d),b=t(13),m=t.n(b),g=t(62),u=t(22),x=t(3),h=t(37),O=t(12),p=t(8),f=t(36),v=t(25),N=t(10),y=t.n(N),w=t(14),C=t(1);a.a=Object(n.c)((e=>{var a;e.addTranslation(f);const[t,d]=Object(i.useState)(""),[b,N]=Object(i.useState)(""),[k,D]=Object(i.useState)(!1),[z,L]=Object(i.useState)(!1),[_,I]=Object(i.useState)(!1),[S,T]=Object(i.useState)(null!==(a=e.isLoggedInUser)&&void 0!==a&&a),[E,R]=Object(i.useState)(e.triggerCanRequestNow||!1),[B,A]=Object(i.useState)(!1),[U,P]=Object(i.useState)(!1),[q,V]=Object(i.useState)({token:null,valid:!1}),F=Object(i.useRef)(null),M=new v.OptimizedMixPanel(y.a),H=Object(u.a)(),W=Object(p.useHistory)(),J=Object(u.b)(x.b);Object(i.useEffect)((()=>{e.triggerCanRequestNow&&R(e.triggerCanRequestNow||!1)}),[e.triggerCanRequestNow]);Object(i.useEffect)((()=>{q.valid&&G({token:q.token,valid:q.valid})}),[q]),Object(i.useEffect)((()=>{var a,t;T(e.userEmail?J.user.email===e.userEmail||J.userEmails.map((e=>e.value.toLowerCase())).includes(e.userEmail.toLowerCase()):e.username?e.username===J.user.username:null!==(a=e.isLoggedInUser)&&void 0!==a&&a),console.log("isLoggedInUserInner",e.userEmail?J.user.email===e.userEmail||J.userEmails.map((e=>e.value.toLowerCase())).includes(e.userEmail.toLowerCase()):e.username?e.username===J.user.username:null!==(t=e.isLoggedInUser)&&void 0!==t&&t)}),[J,e.isLoggedInUser]);const G=async a=>{if(!a.valid)return void Object(w.a)({type:"error",text:e.translate("recaptchaError").toString()});A(!0),J.logged&&(M.track("Force Logout",{type:"Name Change Request",credential_no:e.credential_no}),H(x.c.logout()),Object(w.a)({type:"success",text:e.translate("loggedOut")}));const[t,i]=function(e){const a=(e=e.trim()).split(" "),t=a[a.length-1];return[a.slice(0,a.length-1).join(" "),t]}(e.userFullName||"No Name");console.log("firstName",t),console.log("lastName",i);const s={email:e.userEmail,reCaptchaToken:a.token||"",firstName:t,lastName:i};console.log("otpdbody",s),m.a.clearExceptConfig();const n=await Object(O.g)(s,"signup");if(null!=n&&n.success){var c,l;H(x.c.setUserId(n.userId));const a="nameChangeRequest";W.push({pathname:"/".concat(null!==(c=null===(l=e.activeLanguage)||void 0===l?void 0:l.code)&&void 0!==c?c:"en","/verify-code"),search:"?email=".concat(e.userEmail),state:{status:n.status,shouldRedirectOptions:{shouldRedirectTo:window.location.pathname,actionType:a},fromProfile:!0}})}else{var r;null===(r=F.current)||void 0===r||r.reset(),n?Object(w.a)({type:"error",text:e.translate(n.error).toString()}):Object(w.a)({type:"error",text:e.translate("error").toString()}),A(!1)}A(!1)};return S||E?Object(C.jsxs)(r.a,{id:"name-change-popup",show:e.dialogOpen,contentClassName:_?"name-change-success":"name-change-content",centered:!0,children:[!_&&Object(C.jsx)(r.a.Title,{className:"dialog-title flex-row jc-sb",children:Object(C.jsxs)("div",{className:"flex-column",children:[Object(C.jsx)("span",{className:"s4-5 bold",children:Object(C.jsx)(n.b,{id:"nameChangeRequest"})}),Object(C.jsx)("span",{className:"name-change-desc",children:Object(C.jsx)(n.b,{id:"nameChangeDesc"})})]})}),_?Object(C.jsxs)(r.a.Body,{className:"verify-you-body flex-row ai-fs",children:[Object(C.jsx)("img",{src:s.a,alt:"Info Icon",style:{marginRight:"25px"},className:"modal-icon"}),Object(C.jsxs)("div",{className:"verify-you-texts",children:[Object(C.jsx)("span",{className:"title-text",children:Object(C.jsx)(n.b,{id:"great"})}),Object(C.jsx)("span",{className:"desc-text",style:{marginTop:"15px",marginBottom:"25px"},children:e.translate("requestNameSuccessWithIssuerName").toString().replaceAll("%issuerName%",e.issuerName)}),U&&Object(C.jsx)(h.a,{onChange:e=>V(e),styles:{marginBottom:"20px"}})]})]}):Object(C.jsxs)(r.a.Body,{children:[Object(C.jsx)("span",{className:"input-label",children:Object(C.jsx)(n.b,{id:"requestedName"})}),Object(C.jsx)(o.a,{width:282,height:58,placeholder:"Jane Doe",value:t,onChangeAction:d,isErrorActive:z}),Object(C.jsx)("span",{className:"input-label",style:{marginTop:"15px"},children:Object(C.jsx)(n.b,{id:"confirmRequestedName"})}),Object(C.jsx)(o.a,{width:282,height:58,placeholder:"Jane Doe",value:b,onChangeAction:N,isErrorActive:z}),Object(C.jsx)("div",{className:"btn-input-sized-box"}),Object(C.jsx)(j.a,{type:"primary",size:"large",width:282,height:50,loading:k,onClickAction:async()=>{if(L(!1),t.length<3||b.length<3||t!==b)Object(w.a)({type:"error",text:e.translate("nameChangeError").toString()}),L(!0);else{D(!0);const a=await(async(e,a)=>{try{return(await l.post(c.Routes.nameChangeRequest,{name:e,certificateNo:a})).data}catch(z){console.log(z)}})(t,e.credential_no);a.success&&I(!0),M.track("Name Change Request",{credential_no:e.credential_no}),D(!1)}},styles:{marginBottom:"15px"},children:Object(C.jsx)(n.b,{id:"submit"})}),Object(C.jsx)(j.a,{type:"secondary",size:"large",width:282,height:50,loading:!1,onClickAction:e.handleClose,children:Object(C.jsx)(n.b,{id:"cancel"})})]}),_&&Object(C.jsx)(r.a.Footer,{className:"common-footer flex-row",style:{padding:0},children:Object(C.jsx)(j.a,{type:"primary",size:"small",loading:B,height:39,onClickAction:()=>{e.handleClose()},children:Object(C.jsx)(n.b,{id:"confirm"})})})]}):J.logged&&!S?Object(C.jsxs)(r.a,{id:"share-dialog",className:"not-permitted",show:e.dialogOpen,onHide:e.handleClose,centered:!0,children:[Object(C.jsxs)(r.a.Body,{className:"not-permitted-body flex-row ai-fs",children:[Object(C.jsx)("img",{src:g.a,alt:"Info Icon",className:"modal-icon"}),Object(C.jsxs)("div",{className:"not-permitted-texts",children:[Object(C.jsx)("span",{className:"title-text",children:Object(C.jsx)(n.b,{id:"notPermittedNameTitle"})}),Object(C.jsx)("span",{className:"desc-text",style:{marginTop:"15px",marginBottom:"15px"},children:e.translate("notPermittedNameDescWithEmail").toString().replace("%email%",J.user.email)}),Object(C.jsx)("span",{className:"desc-text",children:Object(C.jsx)(n.b,{id:"notPermittedNameSwitchText"})}),U&&Object(C.jsx)(h.a,{onChange:e=>V(e),styles:{marginBottom:"20px"}})]})]}),Object(C.jsxs)(r.a.Footer,{className:"not-permitted-footer flex-row",children:[Object(C.jsx)(j.a,{type:"secondary",size:"small",loading:!1,height:39,onClickAction:()=>e.handleClose(),children:Object(C.jsx)(n.b,{id:"cancel"})}),Object(C.jsx)(j.a,{type:"primary",size:"small",loading:B,height:39,onClickAction:()=>{P(!0)},children:Object(C.jsx)(n.b,{id:"switchAccount"})})]})]}):Object(C.jsxs)(r.a,{id:"change-dialog",className:"verify-you",show:e.dialogOpen,onHide:e.handleClose,centered:!0,children:[Object(C.jsxs)(r.a.Body,{className:"verify-you-body flex-row ai-fs",children:[Object(C.jsx)("img",{src:g.a,alt:"Info Icon",className:"modal-icon"}),Object(C.jsxs)("div",{className:"verify-you-texts",children:[Object(C.jsx)("span",{className:"title-text",children:Object(C.jsx)(n.b,{id:"weNeedToVerifyItsYou"})}),Object(C.jsx)("span",{className:"desc-text",style:{marginTop:"15px",marginBottom:"15px"},children:Object(C.jsx)(n.b,{id:"verifyItsYouDescTextNameChange"})}),U&&Object(C.jsx)(h.a,{ref:F,onChange:e=>V(e),styles:{marginBottom:"20px"}})]})]}),Object(C.jsxs)(r.a.Footer,{className:"common-footer flex-row",children:[Object(C.jsx)(j.a,{type:"secondary",size:"small",loading:!1,height:39,onClickAction:()=>e.handleClose(),children:Object(C.jsx)(n.b,{id:"cancel"})}),Object(C.jsx)(j.a,{type:"primary",size:"small",loading:B,height:39,onClickAction:()=>{P(!0)},children:Object(C.jsx)(n.b,{id:"verifyEmailAddress"})})]})]})}))}}]);
//# sourceMappingURL=50.e434bf03.chunk.js.map